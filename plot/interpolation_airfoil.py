import matplotlib.pyplot as plt
from geomdl import NURBS, utilities
import numpy as np
contor_points = [
    231.758, 362.482,
    620.0, 1060.0,
    521.333, 815.417,
    1318.122, 2061.678,
    2080.288, 2698.082,
    3758.885, 4688.044,
    182.725, 285.795,
    -218.014, -139.386,
    1237.071, 1741.509,
    -103.916, -16.004,
    2881.416, 3675.704,
    3332.367, 4156.102,
    3730.712, 4652.918,
    81.611, 129.119
]

up = [[0, 0], [0, 1], [1, 1], [1, 565.63], [1, 565.63], [1, 1], [5000, 8.154]]
low = [[0, 0], [0, 1], [1, 1], [1, -47.24], [1, -47.24], [1, 1], [5000, 0]]

# UY1,UX2,UY2,UX3,UX4,UX5,UY5,LY1,LX2,LY2,LX3,LX4,LX5,LY5
news = [
    [297.12, 840, 521.33, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 550.74, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 580.15, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 609.56, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 638.97, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 668.38, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 697.78, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 727.19, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 756.6, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 786.01, 1689.9, 2389.18, 4223.46, 234.26, -
        178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36],
    [297.12, 840, 815.42, 1689.9, 2389.18, 4223.46, 234.26, -178.7, 1489.29, -59.96, 3278.56, 3744.23, 4191.81, 105.36]]

plt.figure(figsize=(5.0, 1.8))
plt.axis('equal')
plt.ylim([-70, 900])
plt.xlim((-50, 2800))
plt.axis('off')
for i in range(len(news)):
    curve1 = NURBS.Curve()
    curve2 = NURBS.Curve()
    up[1][1] = news[i][0]
    up[2][0] = news[i][1]
    up[2][1] = news[i][2]
    up[3][0] = news[i][3]
    up[4][0] = news[i][4]
    up[5][0] = news[i][5]
    up[5][1] = news[i][6]
    low[1][1] = news[i][7]
    low[2][0] = news[i][8]
    low[2][1] = news[i][9]
    low[3][0] = news[i][10]
    low[4][0] = news[i][11]
    low[5][0] = news[i][12]
    low[5][1] = news[i][13]
    curve1.degree = 6
    curve1.ctrlpts = up
    curve1.knotvector = utilities.generate_knot_vector(
        curve1.degree, len(curve1.ctrlpts))
    curve1.evaluate()
    curve2.degree = 6
    curve2.ctrlpts = low
    curve2.knotvector = utilities.generate_knot_vector(
        curve2.degree, len(curve2.ctrlpts))
    curve2.evaluate()
    points = np.array(curve1.evalpts)
    plt.plot(points[:, 0], points[:, 1],
             label='U2Y={:.1f}'.format(i*0.1), linewidth=0.5)
    if i == 0:
        print('up', up)
        print('low', low)
        print('up', points)
        points = np.array(curve2.evalpts)
        print('low', points)
        plt.plot(points[:, 0], points[:, 1], 'k', linewidth=0.5)
plt.legend(loc='upper center', ncol=4, fontsize=6)
plt.savefig('interpolation_airfoil.eps', format='eps', dpi=1000)
